logger:
  level: info 
storage:
  shard:
    default: # section with the default shard parameters
      resync_metabase: true  # sync metabase with blobstor on start, expensive, leave false until complete understanding
      metabase:
        perm: 0644  # permissions for metabase files(directories: +x for current user and group)
        max_batch_size: 200
        max_batch_delay: 20ms

      compress: false  # turn on/off zstd(level 3) compression of stored objects
      small_object_size: 100 kb  # size threshold for "small" objects which are cached in key-value DB, not in FS, bytes

      blobstor:
        - size: 4m  # approximate size limit of single blobovnicza instance, total size will be: size*width^(depth+1), bytes
          perm: 0644  # permissions for blobstor files(directories: +x for current user and group)
          depth: 1  # max depth of object tree storage in key-value DB
          width: 4   # max width of object tree storage in key-value DB
          opened_cache_capacity: 50  # maximum number of opened database files
        - perm: 0644  # permissions for blobstor files(directories: +x for current user and group)
          depth: 5  # max depth of object tree storage in FS

      gc:
        remover_batch_size: 200  # number of objects to be removed by the garbage collector
        remover_sleep_interval: 5m  # frequency of the garbage collector invocation
        
    0:
      writecache:
        enabled: false
        path: /storage/wc0  # write-cache root directory
        capacity: 3221225472  # approximate write-cache total size, bytes

      metabase:
        path: /storage/meta0  # metabase path

      blobstor:
        - type: blobovnicza
          path: /storage/blobovnicza0
        - type: fstree
          path: /storage/fstree0

      pilorama:
        path: /storage/pilorama0 # path to the pilorama database. If omitted, `pilorama.db` file is created blobstor.path

    1:
      writecache:
        enabled: false
        path: /storage/wc1  # write-cache root directory

      metabase:
        path: /storage/meta1  # metabase path

      blobstor:
        - type: blobovnicza
          path: /storage/blobovnicza1
        - type: fstree
          path: /storage/fstree1

      pilorama:
        path: /storage/pilorama1
